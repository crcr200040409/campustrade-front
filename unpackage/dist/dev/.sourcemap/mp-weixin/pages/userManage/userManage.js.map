{"version":3,"file":"userManage.js","sources":["pages/userManage/userManage.vue","../../../../../../ProgramFiles/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlck1hbmFnZS91c2VyTWFuYWdlLnZ1ZQ"],"sourcesContent":["<template>\n  <view>\n    <text>用户管理</text>\n    \n    <!-- 搜索框 -->\n    <view class=\"search-box\">\n      <input \n        v-model=\"searchQuery\" \n        type=\"text\" \n        placeholder=\"搜索用户\" \n        @input=\"filterUsers\"\n      />\n    </view>\n\n    <!-- 用户列表 -->\n    <scroll-view scroll-y class=\"user-list\">\n      <view v-for=\"user in filteredUserList\" :key=\"user.id\" class=\"user-item\">\n        <view class=\"user-info\">\n          <text class=\"open-id\">   openId: {{ user.open_id }}</text>\n          <text class=\"user-name\"> 用户名: {{ user.user_name }}</text>\n        </view>\n        <button @click=\"toggleBlock(user)\">\n          {{ user.isBlocked ? '解除拉黑' : '拉黑用户' }}\n        </button>\n      </view>\n    </scroll-view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\n\n// 用户列表数据\nconst userList = ref([])\n// 搜索框输入值\nconst searchQuery = ref('')\n// 过滤后的用户列表\nconst filteredUserList = ref([])\nconst mockUserData = [\n  { id: 1, open_id: 'openid_123', user_name: 'Alice', isBlocked: false },\n  { id: 2, open_id: 'openid_456', user_name: 'Bob', isBlocked: true },\n  { id: 3, open_id: 'openid_789', user_name: 'Charlie', isBlocked: false },\n  { id: 4, open_id: 'openid_101', user_name: 'David', isBlocked: true },\n  { id: 5, open_id: 'openid_102', user_name: 'Eve', isBlocked: false },\n  { id: 6, open_id: 'openid_103', user_name: 'Frank', isBlocked: false }\n]\n\n// 获取用户数据\nconst fetchUsers = async () => {\n\t userList.value = mockUserData\n\t  filteredUserList.value = mockUserData  // 初始时显示所有用户\n  // const { data } = await uni.request({ url: '/api/admin/users' })\n  // userList.value = data\n  // filteredUserList.value = data  // 初始时显示所有用户\n}\n\n// 处理用户拉黑或解除拉黑\nconst toggleBlock = async (user) => {\n  await uni.request({\n    url: `/api/admin/users/${user.id}/block`,\n    method: 'POST',\n    data: { block: !user.isBlocked }\n  })\n  fetchUsers()\n}\n\n// 过滤用户列表\nconst filterUsers = () => {\n  filteredUserList.value = userList.value.filter(user => {\n    return user.open_id.includes(searchQuery.value) || user.user_name.includes(searchQuery.value)\n  })\n}\n\nonMounted(fetchUsers)\n</script>\n\n<style scoped>\n.search-box {\n  margin-bottom: 15px;\n}\n.search-box input {\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n}\n.user-list {\n  margin-top: 10px;\n}\n.user-item {\n  padding: 10px;\n  border-bottom: 1px solid #f0f0f0;\n  display: flex;\n  justify-content: space-between;\n}\n</style>\n","import MiniProgramPage from 'D:/作业/软件工程/课程设计/campustrade/code/campustrade-front/pages/userManage/userManage.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","onMounted"],"mappings":";;;;;AAiCA,UAAM,WAAWA,cAAG,IAAC,EAAE;AAEvB,UAAM,cAAcA,cAAG,IAAC,EAAE;AAE1B,UAAM,mBAAmBA,cAAG,IAAC,EAAE;AAC/B,UAAM,eAAe;AAAA,MACnB,EAAE,IAAI,GAAG,SAAS,cAAc,WAAW,SAAS,WAAW,MAAO;AAAA,MACtE,EAAE,IAAI,GAAG,SAAS,cAAc,WAAW,OAAO,WAAW,KAAM;AAAA,MACnE,EAAE,IAAI,GAAG,SAAS,cAAc,WAAW,WAAW,WAAW,MAAO;AAAA,MACxE,EAAE,IAAI,GAAG,SAAS,cAAc,WAAW,SAAS,WAAW,KAAM;AAAA,MACrE,EAAE,IAAI,GAAG,SAAS,cAAc,WAAW,OAAO,WAAW,MAAO;AAAA,MACpE,EAAE,IAAI,GAAG,SAAS,cAAc,WAAW,SAAS,WAAW,MAAO;AAAA,IACxE;AAGA,UAAM,aAAa,YAAY;AAC7B,eAAS,QAAQ;AAChB,uBAAiB,QAAQ;AAAA,IAI5B;AAGA,UAAM,cAAc,OAAO,SAAS;AAClC,YAAMC,cAAAA,MAAI,QAAQ;AAAA,QAChB,KAAK,oBAAoB,KAAK,EAAE;AAAA,QAChC,QAAQ;AAAA,QACR,MAAM,EAAE,OAAO,CAAC,KAAK,UAAW;AAAA,MACpC,CAAG;AACD,iBAAY;AAAA,IACd;AAGA,UAAM,cAAc,MAAM;AACxB,uBAAiB,QAAQ,SAAS,MAAM,OAAO,UAAQ;AACrD,eAAO,KAAK,QAAQ,SAAS,YAAY,KAAK,KAAK,KAAK,UAAU,SAAS,YAAY,KAAK;AAAA,MAChG,CAAG;AAAA,IACH;AAEAC,kBAAS,UAAC,UAAU;;;;;;;;;;;;;;;;;;;ACxEpB,GAAG,WAAW,eAAe;"}