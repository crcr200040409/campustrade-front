{"version":3,"file":"sell.js","sources":["pages/sell/sell.vue","../../../../../../ProgramFiles/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2VsbC9zZWxsLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 顶部导航栏 -->\n    <view class=\"header\">\n      <text class=\"header-title\">发布闲置</text>\n    </view>\n\n    <!-- 商品表单区域 -->\n    <scroll-view class=\"form-container\" scroll-y>\n      <!-- 商品图片上传 -->\n      <view class=\"upload-section\">\n        <text class=\"section-title\">上传商品图片(最多9张)</text>\n        <view class=\"image-grid\">\n          <view class=\"image-item\" v-for=\"(img, index) in images\" :key=\"index\">\n            <image :src=\"img\" mode=\"aspectFill\" class=\"preview-image\"></image>\n            <view class=\"delete-btn\" @click=\"removeImage(index)\">×</view>\n          </view>\n          <view class=\"image-item add-btn\" @click=\"chooseImage\" v-if=\"images.length < 9\">\n            <view class=\"add-icon\">+</view>\n          </view>\n        </view>\n      </view>\n\n      <!-- 商品信息 -->\n      <view class=\"form-section\">\n        <text class=\"section-title\">商品信息</text>\n        <view class=\"form-item\">\n          <text class=\"item-label\">商品名称</text>\n          <input class=\"item-input\" placeholder=\"请输入商品名称\" v-model=\"form.title\" />\n        </view>\n        <view class=\"form-item\">\n          <text class=\"item-label\">商品描述</text>\n          <textarea class=\"item-textarea\" placeholder=\"请详细描述商品情况\" v-model=\"form.description\"></textarea>\n        </view>\n        <view class=\"form-item\">\n          <text class=\"item-label\">商品分类</text>\n          <view class=\"checkbox-group\">\n            <label v-for=\"(category, index) in categories\" :key=\"index\" class=\"checkbox-item\">\n              <checkbox\n                  :value=\"category\"\n                  :checked=\"form.categories.includes(category)\"\n                  @change=\"handleCategoryChange($event, category)\"\n                  :id=\"'category-' + index\"\n              >\n                {{ category }}\n              </checkbox>\n            </label>\n          </view>\n        </view>\n\n        <view class=\"form-item\">\n          <text class=\"item-label\">商品价格</text>\n          <input class=\"item-input\" type=\"number\" placeholder=\"请输入价格，保留两位小数\" v-model=\"form.Price\" />\n        </view>\n      </view>\n    </scroll-view>\n\n    <!-- 底部发布按钮 -->\n    <view class=\"footer\">\n      <button class=\"publish-btn\" @click=\"submitForm\">\n        <text class=\"btn-text\">发布闲置</text>\n      </button>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\n\n// 表单数据\nconst form = ref({\n  title: '',\n  description: '',\n  categories: [],\n  Price: '',\n  contact: ''\n})\n\nconst images = ref([]) // 商品图片\nconst categories = ref(['数码电子', '服饰鞋包', '图书教材', '家居生活', '美妆个护', '运动户外', '其他'])\n\n// 选择图片\nconst chooseImage = () => {\n  uni.chooseImage({\n    count: 9 - images.value.length,\n    sizeType: ['compressed'],\n    sourceType: ['album', 'camera'],\n    success: (res) => {\n      images.value = images.value.concat(res.tempFilePaths)\n    }\n  })\n}\nconst handleCategoryChange = (e, category) => {\n  const checked = e.detail.value; // 获取复选框当前的选中状态 (true 或 false)\n  if (checked) {\n    // 如果复选框被选中，添加到 categories 数组中\n    if (!form.value.categories.includes(category)) {\n      form.value.categories.push(category);\n    }\n  } else {\n    // 如果复选框被取消选中，从 categories 数组中移除该分类\n    form.value.categories = form.value.categories.filter(c => c !== category);\n  }\n};\n\n// 删除图片\nconst removeImage = (index) => {\n  images.value.splice(index, 1)\n}\n\n// 分类选择\nconst categoryChange = (e) => {\n  form.value.category = categories.value[e.detail.value]\n}\n\n// 提交表单\nconst submitForm = () => {\n  if (!form.value.title) {\n    uni.showToast({title: '请填写商品名称', icon: 'none'})\n    return\n  }\n  if (images.value.length === 0) {\n    uni.showToast({title: '请上传商品图片', icon: 'none'})\n    return\n  }\n\n  // 这里添加提交逻辑\n  uni.showLoading({title: '发布中...'})\n  setTimeout(() => {\n    uni.hideLoading()\n    uni.showToast({title: '发布成功'})\n    setTimeout(() => {\n      uni.navigateBack()\n    }, 1500)\n  }, 2000)\n}\n</script>\n\n<style>\n/* 基础样式 */\npage {\n  background-color: #f5f5f5;\n}\n\n.container {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: #f5f5f5;\n}\n\n/* 头部样式优化 */\n.header {\n  padding: 15px;\n  background-color: #ffffff;\n  border-bottom: 1px solid #eee;\n  text-align: center;\n  position: sticky;\n  top: 0;\n  z-index: 10;\n}\n\n.header-title {\n  font-size: 18px;\n  font-weight: bold;\n  color: #333;\n}\n\n/* 表单容器优化 */\n.form-container {\n  flex: 1;\n  padding: 15px;\n  background-color: #fff;\n  box-sizing: border-box;\n}\n\n/* 各部分标题样式优化 */\n.section-title {\n  display: block;\n  font-size: 16px;\n  font-weight: bold;\n  margin: 15px 0 10px;\n  color: #333;\n  padding-left: 5px;\n  border-left: 3px solid #f9b826;\n}\n\n/* 图片上传区域优化 */\n.upload-section {\n  margin-bottom: 25px;\n  padding: 15px;\n  background-color: #fff;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n}\n\n.image-grid {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 12px;\n}\n\n.image-item {\n  width: calc((100% - 24px) / 3);\n  height: 0;\n  padding-bottom: calc((100% - 24px) / 3);\n  position: relative;\n  border-radius: 8px;\n  overflow: hidden;\n  background-color: #f9f9f9;\n  border: 1px dashed #ddd;\n}\n\n.add-btn {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #fafafa;\n  width: 100%;\n  height: 100%;\n}\n\n\n.add-icon {\n  font-size: 32px;\n  color: #ccc;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.preview-image {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  object-fit: cover;\n}\n\n.delete-btn {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  width: 20px;\n  height: 20px;\n  background-color: rgba(0, 0, 0, 0.5);\n  color: white;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 14px;\n}\n\n/* 表单项目样式优化 */\n.form-section {\n  margin-bottom: 15px;\n  padding: 15px;\n  background-color: #fff;\n  border-radius: 12px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n}\n\n.form-item {\n  margin-bottom: 20px;\n}\n\n.item-label {\n  display: block;\n  margin-bottom: 8px;\n  font-size: 15px;\n  color: #333;\n  font-weight: 500;\n}\n\n.item-input, .item-textarea, .picker-view {\n  width: 100%;\n  padding: 12px 15px;\n  height: auto;\n  border: 1px solid #eaeaea;\n  border-radius: 8px;\n  background-color: #f9f9f9;\n  font-size: 15px;\n  box-sizing: border-box;\n}\n\n.item-input:focus, .item-textarea:focus {\n  border-color: #f9b826;\n}\n\n.item-textarea {\n  height: 120px;\n}\n\n.picker-view {\n  color: #999;\n}\n\n/* 底部按钮优化 */\n.footer {\n  padding: 15px;\n  background-color: #fff;\n  border-top: 1px solid #eee;\n  box-shadow: 0 -2px 8px rgba(0, 0, 0, 0.05);\n}\n\n.publish-btn {\n  background-color: #f9b826;\n  color: white;\n  border-radius: 25px;\n  padding: 14px;\n  font-size: 16px;\n  border: none;\n  width: 100%;\n  box-shadow: 0 4px 12px rgba(249, 184, 38, 0.3);\n}\n\n.publish-btn::after {\n  border: none;\n}\n\n.btn-text {\n  font-weight: bold;\n}\n</style>","import MiniProgramPage from 'D:/作业/软件工程/课程设计/campustrade/code/campustrade-front/pages/sell/sell.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","MiniProgramPage"],"mappings":";;;;;AAsEA,UAAM,OAAOA,cAAAA,IAAI;AAAA,MACf,OAAO;AAAA,MACP,aAAa;AAAA,MACb,YAAY,CAAE;AAAA,MACd,OAAO;AAAA,MACP,SAAS;AAAA,IACX,CAAC;AAED,UAAM,SAASA,cAAG,IAAC,EAAE;AACrB,UAAM,aAAaA,cAAAA,IAAI,CAAC,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,QAAQ,IAAI,CAAC;AAG7E,UAAM,cAAc,MAAM;AACxBC,oBAAAA,MAAI,YAAY;AAAA,QACd,OAAO,IAAI,OAAO,MAAM;AAAA,QACxB,UAAU,CAAC,YAAY;AAAA,QACvB,YAAY,CAAC,SAAS,QAAQ;AAAA,QAC9B,SAAS,CAAC,QAAQ;AAChB,iBAAO,QAAQ,OAAO,MAAM,OAAO,IAAI,aAAa;AAAA,QACrD;AAAA,MACL,CAAG;AAAA,IACH;AACA,UAAM,uBAAuB,CAAC,GAAG,aAAa;AAC5C,YAAM,UAAU,EAAE,OAAO;AACzB,UAAI,SAAS;AAEX,YAAI,CAAC,KAAK,MAAM,WAAW,SAAS,QAAQ,GAAG;AAC7C,eAAK,MAAM,WAAW,KAAK,QAAQ;AAAA,QACpC;AAAA,MACL,OAAS;AAEL,aAAK,MAAM,aAAa,KAAK,MAAM,WAAW,OAAO,OAAK,MAAM,QAAQ;AAAA,MACzE;AAAA,IACH;AAGA,UAAM,cAAc,CAAC,UAAU;AAC7B,aAAO,MAAM,OAAO,OAAO,CAAC;AAAA,IAC9B;AAQA,UAAM,aAAa,MAAM;AACvB,UAAI,CAAC,KAAK,MAAM,OAAO;AACrBA,sBAAG,MAAC,UAAU,EAAC,OAAO,WAAW,MAAM,OAAM,CAAC;AAC9C;AAAA,MACD;AACD,UAAI,OAAO,MAAM,WAAW,GAAG;AAC7BA,sBAAG,MAAC,UAAU,EAAC,OAAO,WAAW,MAAM,OAAM,CAAC;AAC9C;AAAA,MACD;AAGDA,oBAAAA,MAAI,YAAY,EAAC,OAAO,SAAQ,CAAC;AACjC,iBAAW,MAAM;AACfA,sBAAAA,MAAI,YAAa;AACjBA,sBAAAA,MAAI,UAAU,EAAC,OAAO,OAAM,CAAC;AAC7B,mBAAW,MAAM;AACfA,wBAAAA,MAAI,aAAc;AAAA,QACnB,GAAE,IAAI;AAAA,MACR,GAAE,GAAI;AAAA,IACT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtIA,GAAG,WAAWC,SAAe;"}