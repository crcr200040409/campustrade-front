{"version":3,"file":"categoryManage.js","sources":["pages/categoryManage/categoryManage.vue","../../../../../../ProgramFiles/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2F0ZWdvcnlNYW5hZ2UvY2F0ZWdvcnlNYW5hZ2UudnVl"],"sourcesContent":["<template>\n  <view>\n    <button @click=\"showAddModal = true\" class=\"add-button\">添加分类</button>\n    <!-- 模拟数据列表 -->\n    <view v-for=\"category in currentPageCategories\" :key=\"category.id\" class=\"category-item\">\n      <input v-model=\"category.editName\" v-if=\"category.editing\" class=\"category-input\" />\n      <text v-else>{{ category.name }}</text>\n      <view class=\"actions\">\n        <button @click=\"toggleEdit(category)\" class=\"edit-button\">\n          {{ category.editing ? '保存' : '编辑' }}\n        </button>\n        <button @click=\"deleteCategory(category.id)\" class=\"delete-button\">删除</button>\n      </view>\n    </view>\n\n\n    <!-- 分页 -->\n    <view class=\"pagination\">\n      <button @click=\"changePage(currentPage - 1)\" :disabled=\"currentPage <= 1\">上一页</button>\n      <span>第 {{ currentPage }} 页 共 {{ totalPages }} 页</span>\n      <button @click=\"changePage(currentPage + 1)\" :disabled=\"currentPage >= totalPages\">下一页</button>\n    </view>\n\n    <!-- 弹窗 -->\n    <view v-if=\"showAddModal\" class=\"modal\">\n      <view class=\"modal-content\">\n        <input v-model=\"newCategory\" placeholder=\"新分类名称\" class=\"modal-input\" />\n        <view class=\"modal-actions\">\n          <button @click=\"addCategory\" class=\"add-category-btn\">添加</button>\n          <button @click=\"showAddModal = false\" class=\"close-btn\">关闭</button>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted ,computed} from 'vue'\n\nconst categories = ref([\n  { id: 1, name: '电子产品', editing: false, editName: '电子产品' },\n  { id: 2, name: '家居用品', editing: false, editName: '家居用品' },\n  { id: 3, name: '书籍', editing: false, editName: '书籍' },\n  { id: 4, name: '运动装备', editing: false, editName: '运动装备' },\n  { id: 5, name: '玩具', editing: false, editName: '玩具' },\n  { id: 6, name: '衣物', editing: false, editName: '衣物' },\n  { id: 7, name: '厨房用品', editing: false, editName: '厨房用品' },\n  { id: 8, name: '美妆', editing: false, editName: '美妆' },\n  { id: 9, name: '食品', editing: false, editName: '食品' },\n  { id: 10, name: '汽车配件', editing: false, editName: '汽车配件' },\n  { id: 11, name: '园艺工具', editing: false, editName: '园艺工具' },\n  { id: 12, name: '办公用品', editing: false, editName: '办公用品' },\n  { id: 13, name: '宠物用品', editing: false, editName: '宠物用品' },\n  { id: 14, name: '文具', editing: false, editName: '文具' },\n  { id: 15, name: '健康产品', editing: false, editName: '健康产品' }\n])\n\nconst newCategory = ref('')\nconst showAddModal = ref(false)\nconst currentPage = ref(1)\nconst itemsPerPage = 8\nconst totalPages = ref(Math.ceil(categories.value.length / itemsPerPage))\n\n// 计算当前页显示的分类数据\nconst currentPageCategories = computed(() => {\n  const startIndex = (currentPage.value - 1) * itemsPerPage\n  const endIndex = startIndex + itemsPerPage\n  return categories.value.slice(startIndex, endIndex)\n})\n\n// 添加分类\nconst addCategory = () => {\n  if (newCategory.value) {\n    const newCategoryData = {\n      id: categories.value.length + 1,\n      name: newCategory.value,\n      editing: false,\n      editName: newCategory.value\n    }\n    categories.value.push(newCategoryData)\n    newCategory.value = ''\n    showAddModal.value = false\n    totalPages.value = Math.ceil(categories.value.length / itemsPerPage)\n  }\n}\n\n// 编辑分类\nconst toggleEdit = (category) => {\n  if (category.editing) {\n    category.name = category.editName\n  }\n  category.editing = !category.editing\n}\n\n// 删除分类\nconst deleteCategory = (id) => {\n  categories.value = categories.value.filter(category => category.id !== id)\n  totalPages.value = Math.ceil(categories.value.length / itemsPerPage)\n}\n\n// 页码变化\nconst changePage = (page) => {\n  if (page >= 1 && page <= totalPages.value) {\n    currentPage.value = page\n  }\n}\n\nonMounted(() => {\n  // 可以模拟获取数据的请求\n  console.log('组件已加载')\n})\n</script>\n\n<style scoped>\n.add-button {\n  background-color: #008bff;\n  color: white;\n  padding: 10px 15px;\n  border: 15px;\n  border-radius: 15px;\n}\n\n.category-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n  padding: 10px;\n  background: #f9f9f9;\n  border-radius: 5px;\n}\n\n.category-item text {\n  flex-grow: 1;\n}\n\n.actions {\n  display: flex;\n  align-items: center;\n}\n\n.edit-button, .delete-button {\n  padding: 5px 10px;\n  margin-left: 10px;\n  border-radius: 5px;\n  border: none;\n  cursor: pointer;\n}\n\n.edit-button {\n  background-color: #f0ad4e;\n  color: white;\n}\n\n.delete-button {\n  background-color: #d9534f;\n  color: white;\n}\n\n.pagination {\n  bottom: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.pagination button {\n  padding: 5px 15px;\n  margin: 0 10px;\n  border-radius: 5px;\n  border: none;\n  background-color: #5bc0de;\n  color: white;\n  cursor: pointer;\n}\n\n.pagination button:disabled {\n  background-color: #ccc;\n  cursor: not-allowed;\n}\n\n.modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.modal-content {\n  background: white;\n  padding: 20px;\n  border-radius: 5px;\n  width: 300px;\n}\n\n.modal-input {\n  width: 100%;\n  padding: 8px;\n  margin-bottom: 20px;\n  border-radius: 5px;\n  border: 1px solid #ccc;\n}\n\n.modal-actions {\n  display: flex;\n  justify-content: space-between;\n}\n\n.add-category-btn, .close-btn {\n  padding: 8px 15px;\n  border-radius: 5px;\n  border: none;\n  cursor: pointer;\n}\n\n.add-category-btn {\n  background-color: #5bc0de;\n  color: white;\n}\n\n.close-btn {\n  background-color: #d9534f;\n  color: white;\n}\n</style>\n","import MiniProgramPage from 'D:/作业/软件工程/课程设计/campustrade/code/campustrade-front/pages/categoryManage/categoryManage.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","onMounted","uni"],"mappings":";;AA4DA,MAAM,eAAe;;;;AArBrB,UAAM,aAAaA,cAAAA,IAAI;AAAA,MACrB,EAAE,IAAI,GAAG,MAAM,QAAQ,SAAS,OAAO,UAAU,OAAQ;AAAA,MACzD,EAAE,IAAI,GAAG,MAAM,QAAQ,SAAS,OAAO,UAAU,OAAQ;AAAA,MACzD,EAAE,IAAI,GAAG,MAAM,MAAM,SAAS,OAAO,UAAU,KAAM;AAAA,MACrD,EAAE,IAAI,GAAG,MAAM,QAAQ,SAAS,OAAO,UAAU,OAAQ;AAAA,MACzD,EAAE,IAAI,GAAG,MAAM,MAAM,SAAS,OAAO,UAAU,KAAM;AAAA,MACrD,EAAE,IAAI,GAAG,MAAM,MAAM,SAAS,OAAO,UAAU,KAAM;AAAA,MACrD,EAAE,IAAI,GAAG,MAAM,QAAQ,SAAS,OAAO,UAAU,OAAQ;AAAA,MACzD,EAAE,IAAI,GAAG,MAAM,MAAM,SAAS,OAAO,UAAU,KAAM;AAAA,MACrD,EAAE,IAAI,GAAG,MAAM,MAAM,SAAS,OAAO,UAAU,KAAM;AAAA,MACrD,EAAE,IAAI,IAAI,MAAM,QAAQ,SAAS,OAAO,UAAU,OAAQ;AAAA,MAC1D,EAAE,IAAI,IAAI,MAAM,QAAQ,SAAS,OAAO,UAAU,OAAQ;AAAA,MAC1D,EAAE,IAAI,IAAI,MAAM,QAAQ,SAAS,OAAO,UAAU,OAAQ;AAAA,MAC1D,EAAE,IAAI,IAAI,MAAM,QAAQ,SAAS,OAAO,UAAU,OAAQ;AAAA,MAC1D,EAAE,IAAI,IAAI,MAAM,MAAM,SAAS,OAAO,UAAU,KAAM;AAAA,MACtD,EAAE,IAAI,IAAI,MAAM,QAAQ,SAAS,OAAO,UAAU,OAAQ;AAAA,IAC5D,CAAC;AAED,UAAM,cAAcA,cAAG,IAAC,EAAE;AAC1B,UAAM,eAAeA,cAAG,IAAC,KAAK;AAC9B,UAAM,cAAcA,cAAG,IAAC,CAAC;AAEzB,UAAM,aAAaA,cAAAA,IAAI,KAAK,KAAK,WAAW,MAAM,SAAS,YAAY,CAAC;AAGxE,UAAM,wBAAwBC,cAAQ,SAAC,MAAM;AAC3C,YAAM,cAAc,YAAY,QAAQ,KAAK;AAC7C,YAAM,WAAW,aAAa;AAC9B,aAAO,WAAW,MAAM,MAAM,YAAY,QAAQ;AAAA,IACpD,CAAC;AAGD,UAAM,cAAc,MAAM;AACxB,UAAI,YAAY,OAAO;AACrB,cAAM,kBAAkB;AAAA,UACtB,IAAI,WAAW,MAAM,SAAS;AAAA,UAC9B,MAAM,YAAY;AAAA,UAClB,SAAS;AAAA,UACT,UAAU,YAAY;AAAA,QACvB;AACD,mBAAW,MAAM,KAAK,eAAe;AACrC,oBAAY,QAAQ;AACpB,qBAAa,QAAQ;AACrB,mBAAW,QAAQ,KAAK,KAAK,WAAW,MAAM,SAAS,YAAY;AAAA,MACpE;AAAA,IACH;AAGA,UAAM,aAAa,CAAC,aAAa;AAC/B,UAAI,SAAS,SAAS;AACpB,iBAAS,OAAO,SAAS;AAAA,MAC1B;AACD,eAAS,UAAU,CAAC,SAAS;AAAA,IAC/B;AAGA,UAAM,iBAAiB,CAAC,OAAO;AAC7B,iBAAW,QAAQ,WAAW,MAAM,OAAO,cAAY,SAAS,OAAO,EAAE;AACzE,iBAAW,QAAQ,KAAK,KAAK,WAAW,MAAM,SAAS,YAAY;AAAA,IACrE;AAGA,UAAM,aAAa,CAAC,SAAS;AAC3B,UAAI,QAAQ,KAAK,QAAQ,WAAW,OAAO;AACzC,oBAAY,QAAQ;AAAA,MACrB;AAAA,IACH;AAEAC,kBAAAA,UAAU,MAAM;AAEdC,oBAAAA,qEAAY,OAAO;AAAA,IACrB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7GD,GAAG,WAAW,eAAe;"}