{"version":3,"names":["product","common_vendor","ref","fetchProductDetail","_ref","_asyncToGenerator2","_regeneratorRuntime2","mark","_callee","commodityId","response","wrap","_callee$","_context","prev","next","api_request","request","url","method","data","sent","index","__f__","JSON","stringify","code","value","showToast","title","icon","t0","stop","_x","apply","arguments","onMounted","pages","getCurrentPages","currentPage","length","options","wx","createPage","MiniProgramPage"],"sources":["productDetail.vue","cGFnZXMvcHJvZHVjdERldGFpbC9wcm9kdWN0RGV0YWlsLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 商品详情展示 -->\n    <view class=\"product-detail\">\n      <image :src=\"product.commodityPhoto || '/images/default.jpg'\" mode=\"aspectFill\" class=\"product-image\" />\n      <text class=\"product-title\">{{ product.commodityName }}</text>\n      <text class=\"product-description\">{{ product.commodityDescription }}</text>\n      <text class=\"product-price\">¥{{ product.commodityPrice.toFixed(2) }}</text>\n      <text class=\"product-publish-time\">发布时间: {{ product.commodityPublishTime }}</text>\n      <text class=\"product-modify-time\" v-if=\"product.commodityModifyTime\">修改时间: {{ product.commodityModifyTime }}</text>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport request from \"@/api/request.js\"; // 导入封装的请求方法\n// 商品详情数据\nconst product = ref({});\n// 获取商品详情\nconst fetchProductDetail = async (commodityId) => {\n  try {\n    const response = await request({\n      url: \"/commodity/getCommodityDetail\",\n      method: \"POST\",\n      data: commodityId\n    });// 传递商品ID\n    console.log(\"commodityId---------->\"+commodityId)\n    console.log(\"response----------->\", JSON.stringify(response, 2));\n    if (response.code === 200 && response.data) {\n      product.value = response.data; // 设置商品详情\n    } else {\n      uni.showToast({\n        title: '获取商品详情失败',\n        icon: 'none'\n      });\n    }\n  } catch (error) {\n    console.error(\"请求商品详情失败\", error);\n    uni.showToast({\n      title: '请求失败',\n      icon: 'none'\n    });\n  }\n};\n\n// 页面加载时获取商品详情\nonMounted(() => {\n  const pages = getCurrentPages();\n  const currentPage = pages[pages.length - 1];\n  const commodityId = currentPage.options.commodityId; // 获取传递的商品ID\n  fetchProductDetail(commodityId); // 获取商品详情\n});\n</script>\n\n<style scoped>\n  .container {\n    padding: 20px;\n    background-color: #f5f5f5;\n  }\n\n  .product-detail {\n    background-color: white;\n    padding: 15px;\n    border-radius: 8px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  }\n\n  .product-image {\n    width: 100%;\n    height: 200px;\n    object-fit: cover;\n    margin-bottom: 10px;\n  }\n\n  .product-title {\n    font-size: 18px;\n    font-weight: bold;\n    margin-bottom: 10px;\n  }\n\n  .product-description {\n    font-size: 14px;\n    color: #666;\n    margin-bottom: 10px;\n  }\n\n  .product-price {\n    font-size: 16px;\n    color: #ff6b00;\n    margin-bottom: 10px;\n  }\n\n  .product-publish-time {\n    font-size: 14px;\n    color: #999;\n  }\n\n  .product-modify-time {\n    font-size: 14px;\n    color: #999;\n  }\n</style>\n","import MiniProgramPage from 'D:/作业/软件工程/课程设计/campustrade/code/campustrade-front/pages/productDetail/productDetail.vue'\nwx.createPage(MiniProgramPage)"],"mappings":";;;;;;;;;;IAkBA,IAAMA,OAAA,GAAUC,aAAA,CAAAC,GAAA,CAAI,EAAE;IAEtB,IAAMC,kBAAA;MAAA,IAAAC,IAAA,GAAAC,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAqB,SAAAC,QAAOC,WAAA;QAAA,IAAAC,QAAA;QAAA,OAAAJ,oBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAE,IAAA;cAAA,OAEPC,WAAA,CAAAC,OAAA,CAAQ;gBAC7BC,GAAA,EAAK;gBACLC,MAAA,EAAQ;gBACRC,IAAA,EAAMX;cACZ,CAAK;YAAA;cAJKC,QAAA,GAAAG,QAAA,CAAAQ,IAAA;cAKNpB,aAAA,CAAAqB,KAAA,CAAAC,KAAA,uDAAY,2BAAyBd,WAAW;cAChDR,aAAA,CAAAqB,KAAA,CAAYC,KAAA,+EAAwBC,IAAA,CAAKC,SAAA,CAAUf,QAAA,EAAU,CAAC,CAAC;cAC/D,IAAIA,QAAA,CAASgB,IAAA,KAAS,OAAOhB,QAAA,CAASU,IAAA,EAAM;gBAC1CpB,OAAA,CAAQ2B,KAAA,GAAQjB,QAAA,CAASU,IAAA;cAC/B,OAAW;gBACLnB,aAAA,CAAAqB,KAAA,CAAIM,SAAA,CAAU;kBACZC,KAAA,EAAO;kBACPC,IAAA,EAAM;gBACd,CAAO;cACF;cAAAjB,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAkB,EAAA,GAAAlB,QAAA;cAEDZ,aAAA,CAAAqB,KAAA,CAAAC,KAAA,yDAAc,YAAAV,QAAA,CAAAkB,EAAA,CAAiB;cAC/B9B,aAAA,CAAAqB,KAAA,CAAIM,SAAA,CAAU;gBACZC,KAAA,EAAO;gBACPC,IAAA,EAAM;cACZ,CAAK;YAAA;YAAA;cAAA,OAAAjB,QAAA,CAAAmB,IAAA;UAAA;QAAA,GAAAxB,OAAA;MAAA,CAEL;MAAA,gBAxBML,mBAAA8B,EAAA;QAAA,OAAA7B,IAAA,CAAA8B,KAAA,OAAAC,SAAA;MAAA;IAAA,GAwBN;IAGAlC,aAAA,CAAAmC,SAAA,CAAU,YAAM;MACd,IAAMC,KAAA,GAAQC,eAAA;MACd,IAAMC,WAAA,GAAcF,KAAA,CAAMA,KAAA,CAAMG,MAAA,GAAS,CAAC;MAC1C,IAAM/B,WAAA,GAAc8B,WAAA,CAAYE,OAAA,CAAQhC,WAAA;MACxCN,kBAAA,CAAmBM,WAAW;IAChC,CAAC;;;;;;;;;;;;;;;;ACnDDiC,EAAA,CAAGC,UAAA,CAAWC,eAAe","ignoreList":[]}